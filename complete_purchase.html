<!--Noah Kim's Complete Purchase/ Thank You Page-->
<!--Linked this page to my navbar.js and will call on that data in the head-->

<script src="./functions.js" type="text/javascript"> // Loads/ defines JSON in functions.js </script>
<script src="./navbar.js" type="text/javascript"> // This links it to my navbar.js </script>
<script src="./product_data.js" type="text/javascript"> // Products array in product_data.js </script>
<script src="./user_data.json" type="json"></script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Purchase</title>
<!--Borrowed portion of a template from W3Schools-->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="./stylesheets/products-style.css" rel="stylesheet">
    <link rel="stylesheet" href="./stylesheets/navbar.css">
<style>
    .w3-sidebar a {font-family: "Roboto", sans-serif}
    body,h1,h2,h3,h4,h5,h6,.w3-wide {font-family: "Montserrat", sans-serif;}
</style>
<!--Calling my navbar.js data so I don't have to copy/ paste it here-->
<script type="text/javascript">
    // This calls my navbar from my navbar.js file, Professor Port helped me with this
    navbar();
</script>
<script>
    let params = (new URL(document.location)).searchParams; // Retrieves the data (quantity, etc.) from submitPurchase and starts the purchase process 
    // Personalizes invoice to recognize user by name to thank them for their order
    if (params.has('username')) {
      var fullname = params.get('fullname');
      var username = params.get('username');
    };
</script>
<br>
<p><h4>Please don't forget to logout after your session!</h4></p>   
<style>
    /* Styled & placed the background image in html so that it would cover the whole screen */
    html {
        background-image: url(./images/indexbg.jpg);
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
    }
    h1 {
        color: peachpuff;
        font-style: italic;
        padding: 10pt;
}
</style>  
</head>
<body>
    <script>
        // This personalizes the user's invoice by identifying their name and thanking them for their purchase 
        if (fullname != 'undefined' && fullname != '') {
          document.write(`<h4> Thank you <font color="black"><i>${fullname}</i></font> for shopping at Noah's Mac Shack! <br> Please review your order, billing information and login to complete your purchase!<h4>
        `)
        } else {
          document.write(`<h4> Thank you <font color="black"><i>${username}</i></font> for shopping at Noah's Mac Shack! <br> Please review your order, billing information and login to complete your purchase!<h4>
        `)
        }
      </script>
</body>
</html>